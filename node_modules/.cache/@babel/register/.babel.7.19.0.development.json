{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nrequire(\"./database\");\n\nvar _usuarios = _interopRequireDefault(require(\"./routes/usuarios.route\"));\n\nvar _login = _interopRequireDefault(require(\"./routes/login.route\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import mysql from 'mysql'\nconst app = (0, _express.default)(); //Setting\n\n_dotenv.default.config({\n  path: '.env'\n});\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(`server on port ${app.get('port')}`);\n}); //Middlewares\n\napp.use(_express.default.json());\napp.use((0, _cors.default)());\napp.use((0, _morgan.default)(\"dev\")); // Routes\n\napp.use('/usuarios', _usuarios.default);\napp.use('/auth', _login.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwiZG90ZW52IiwiY29uZmlnIiwicGF0aCIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsInVzZSIsImpzb24iLCJjb3JzIiwibW9yZ2FuIiwidXN1YXJpb3NSb3V0ZSIsImxvZ2luUm91dGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxPbmVEcml2ZVxcRXNjcml0b3Jpb1xcQVR5R0dcXEJFXFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IG1vcmdhbiBmcm9tIFwibW9yZ2FuXCI7XHJcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XHJcbi8vIGltcG9ydCBteXNxbCBmcm9tICdteXNxbCdcclxuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XHJcbmltcG9ydCAnLi9kYXRhYmFzZSdcclxuXHJcbmltcG9ydCB1c3Vhcmlvc1JvdXRlIGZyb20gJy4vcm91dGVzL3VzdWFyaW9zLnJvdXRlJ1xyXG5pbXBvcnQgbG9naW5Sb3V0ZSBmcm9tICcuL3JvdXRlcy9sb2dpbi5yb3V0ZSdcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxyXG4vL1NldHRpbmdcclxuZG90ZW52LmNvbmZpZyh7IHBhdGg6ICcuZW52JyB9KVxyXG5hcHAuc2V0KCdwb3J0JywgcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwKVxyXG5cclxuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+e1xyXG4gICAgY29uc29sZS5sb2coYHNlcnZlciBvbiBwb3J0ICR7YXBwLmdldCgncG9ydCcpfWApXHJcbn0pXHJcblxyXG4vL01pZGRsZXdhcmVzXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UobW9yZ2FuKFwiZGV2XCIpKTtcclxuXHJcbi8vIFJvdXRlc1xyXG5hcHAudXNlKCcvdXN1YXJpb3MnLCB1c3Vhcmlvc1JvdXRlKVxyXG5hcHAudXNlKCcvYXV0aCcsIGxvZ2luUm91dGUpXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFMQTtBQU9BLE1BQU1BLEdBQUcsR0FBRyxJQUFBQyxnQkFBQSxHQUFaLEMsQ0FDQTs7QUFDQUMsZUFBQSxDQUFPQyxNQUFQLENBQWM7RUFBRUMsSUFBSSxFQUFFO0FBQVIsQ0FBZDs7QUFDQUosR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBcEM7QUFFQVIsR0FBRyxDQUFDUyxNQUFKLENBQVdULEdBQUcsQ0FBQ1UsR0FBSixDQUFRLE1BQVIsQ0FBWCxFQUE0QixNQUFLO0VBQzdCQyxPQUFPLENBQUNDLEdBQVIsQ0FBYSxrQkFBaUJaLEdBQUcsQ0FBQ1UsR0FBSixDQUFRLE1BQVIsQ0FBZ0IsRUFBOUM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsR0FBRyxDQUFDYSxHQUFKLENBQVFaLGdCQUFBLENBQVFhLElBQVIsRUFBUjtBQUNBZCxHQUFHLENBQUNhLEdBQUosQ0FBUSxJQUFBRSxhQUFBLEdBQVI7QUFDQWYsR0FBRyxDQUFDYSxHQUFKLENBQVEsSUFBQUcsZUFBQSxFQUFPLEtBQVAsQ0FBUixFLENBRUE7O0FBQ0FoQixHQUFHLENBQUNhLEdBQUosQ0FBUSxXQUFSLEVBQXFCSSxpQkFBckI7QUFDQWpCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLE9BQVIsRUFBaUJLLGNBQWpCIn0=","map":{"version":3,"names":["app","express","dotenv","config","path","set","process","env","PORT","listen","get","console","log","use","json","cors","morgan","usuariosRoute","loginRoute"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport morgan from \"morgan\";\r\nimport cors from \"cors\";\r\n// import mysql from 'mysql'\r\nimport dotenv from \"dotenv\";\r\nimport './database'\r\n\r\nimport usuariosRoute from './routes/usuarios.route'\r\nimport loginRoute from './routes/login.route'\r\n\r\nconst app = express()\r\n//Setting\r\ndotenv.config({ path: '.env' })\r\napp.set('port', process.env.PORT || 3000)\r\n\r\napp.listen(app.get('port'), () =>{\r\n    console.log(`server on port ${app.get('port')}`)\r\n})\r\n\r\n//Middlewares\r\napp.use(express.json());\r\napp.use(cors());\r\napp.use(morgan(\"dev\"));\r\n\r\n// Routes\r\napp.use('/usuarios', usuariosRoute)\r\napp.use('/auth', loginRoute)\r\n\r\n"],"mappings":";;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;;;AALA;AAOA,MAAMA,GAAG,GAAG,IAAAC,gBAAA,GAAZ,C,CACA;;AACAC,eAAA,CAAOC,MAAP,CAAc;EAAEC,IAAI,EAAE;AAAR,CAAd;;AACAJ,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAApC;AAEAR,GAAG,CAACS,MAAJ,CAAWT,GAAG,CAACU,GAAJ,CAAQ,MAAR,CAAX,EAA4B,MAAK;EAC7BC,OAAO,CAACC,GAAR,CAAa,kBAAiBZ,GAAG,CAACU,GAAJ,CAAQ,MAAR,CAAgB,EAA9C;AACH,CAFD,E,CAIA;;AACAV,GAAG,CAACa,GAAJ,CAAQZ,gBAAA,CAAQa,IAAR,EAAR;AACAd,GAAG,CAACa,GAAJ,CAAQ,IAAAE,aAAA,GAAR;AACAf,GAAG,CAACa,GAAJ,CAAQ,IAAAG,eAAA,EAAO,KAAP,CAAR,E,CAEA;;AACAhB,GAAG,CAACa,GAAJ,CAAQ,WAAR,EAAqBI,iBAArB;AACAjB,GAAG,CAACa,GAAJ,CAAQ,OAAR,EAAiBK,cAAjB"}},"mtime":1661825248740},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import mysql from 'mysql'\n// const connection = mysql.createConnection({\n//     host: '127.0.0.1',\n//     user:'root',\n//     password:'2203casa',\n//     database: 'atygg'\n// })\n// connection.connect(err => {\n//     if(err) throw err\n//     console.log('Dtabase connected')\n// })\nconst url = 'mongodb://localhost:27017/atygg';\n\n_mongoose.default.connect(url, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst connection = _mongoose.default.connection;\nconnection.once('open', () => {\n  console.log(\"Base de datos conectada\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cmwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0aW9uIiwib25jZSIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxPbmVEcml2ZVxcRXNjcml0b3Jpb1xcQVR5R0dcXEJFXFxzcmNcXCIsInNvdXJjZXMiOlsiZGF0YWJhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuXG4vLyBjb25zdCBjb25uZWN0aW9uID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XG4vLyAgICAgaG9zdDogJzEyNy4wLjAuMScsXG4vLyAgICAgdXNlcjoncm9vdCcsXG4vLyAgICAgcGFzc3dvcmQ6JzIyMDNjYXNhJyxcbi8vICAgICBkYXRhYmFzZTogJ2F0eWdnJ1xuLy8gfSlcblxuLy8gY29ubmVjdGlvbi5jb25uZWN0KGVyciA9PiB7XG4vLyAgICAgaWYoZXJyKSB0aHJvdyBlcnJcbi8vICAgICBjb25zb2xlLmxvZygnRHRhYmFzZSBjb25uZWN0ZWQnKVxuLy8gfSlcblxuY29uc3QgdXJsPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9hdHlnZydcbm1vbmdvb3NlLmNvbm5lY3QodXJsLHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6dHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZSxcbn0pXG5cbmNvbnN0IGNvbm5lY3Rpb24gPSBtb25nb29zZS5jb25uZWN0aW9uO1xuY29ubmVjdGlvbi5vbmNlKCdvcGVuJywgKCkgPT57XG4gICAgY29uc29sZS5sb2coXCJCYXNlIGRlIGRhdG9zIGNvbmVjdGFkYVwiKVxufSkgICJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxHQUFHLEdBQUUsaUNBQVg7O0FBQ0FDLGlCQUFBLENBQVNDLE9BQVQsQ0FBaUJGLEdBQWpCLEVBQXFCO0VBQ2pCRyxlQUFlLEVBQUMsSUFEQztFQUVqQkMsa0JBQWtCLEVBQUM7QUFGRixDQUFyQjs7QUFLQSxNQUFNQyxVQUFVLEdBQUdKLGlCQUFBLENBQVNJLFVBQTVCO0FBQ0FBLFVBQVUsQ0FBQ0MsSUFBWCxDQUFnQixNQUFoQixFQUF3QixNQUFLO0VBQ3pCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSx5QkFBWjtBQUNILENBRkQifQ==","map":{"version":3,"names":["url","mongoose","connect","useNewUrlParser","useUnifiedTopology","connection","once","console","log"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\","sources":["database.js"],"sourcesContent":["// import mysql from 'mysql'\nimport mongoose from 'mongoose'\n\n// const connection = mysql.createConnection({\n//     host: '127.0.0.1',\n//     user:'root',\n//     password:'2203casa',\n//     database: 'atygg'\n// })\n\n// connection.connect(err => {\n//     if(err) throw err\n//     console.log('Dtabase connected')\n// })\n\nconst url= 'mongodb://localhost:27017/atygg'\nmongoose.connect(url,{\n    useNewUrlParser:true,\n    useUnifiedTopology:true,\n})\n\nconst connection = mongoose.connection;\nconnection.once('open', () =>{\n    console.log(\"Base de datos conectada\")\n})  "],"mappings":";;AACA;;;;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,MAAMA,GAAG,GAAE,iCAAX;;AACAC,iBAAA,CAASC,OAAT,CAAiBF,GAAjB,EAAqB;EACjBG,eAAe,EAAC,IADC;EAEjBC,kBAAkB,EAAC;AAFF,CAArB;;AAKA,MAAMC,UAAU,GAAGJ,iBAAA,CAASI,UAA5B;AACAA,UAAU,CAACC,IAAX,CAAgB,MAAhB,EAAwB,MAAK;EACzBC,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH,CAFD"}},"mtime":1661815608126},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\usuarios.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _usuario = require(\"../controllers/usuario.controller\");\n\nconst router = (0, _express.Router)();\nrouter.post('/addUser', _usuario.nuevoUsuario);\nrouter.get('/', _usuario.listaUsuarios);\nrouter.get('/:id', _usuario.buscaUsuarioPorID);\nrouter.put('/:id', _usuario.actualizaUsuario);\nrouter.delete('/:id', _usuario.eliminaUsuario);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibnVldm9Vc3VhcmlvIiwiZ2V0IiwibGlzdGFVc3VhcmlvcyIsImJ1c2NhVXN1YXJpb1BvcklEIiwicHV0IiwiYWN0dWFsaXphVXN1YXJpbyIsImRlbGV0ZSIsImVsaW1pbmFVc3VhcmlvIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxBVHlHR1xcQkVcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbInVzdWFyaW9zLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgbnVldm9Vc3VhcmlvLCBsaXN0YVVzdWFyaW9zLCBidXNjYVVzdWFyaW9Qb3JJRCwgYWN0dWFsaXphVXN1YXJpbywgZWxpbWluYVVzdWFyaW8gfSBmcm9tICcuLi9jb250cm9sbGVycy91c3VhcmlvLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnBvc3QoJy9hZGRVc2VyJywgbnVldm9Vc3VhcmlvKVxyXG5yb3V0ZXIuZ2V0KCcvJywgbGlzdGFVc3Vhcmlvcylcclxucm91dGVyLmdldCgnLzppZCcsIGJ1c2NhVXN1YXJpb1BvcklEKVxyXG5yb3V0ZXIucHV0KCcvOmlkJywgYWN0dWFsaXphVXN1YXJpbylcclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGVsaW1pbmFVc3VhcmlvKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFVBQVosRUFBd0JDLHFCQUF4QjtBQUNBSCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxzQkFBaEI7QUFDQUwsTUFBTSxDQUFDSSxHQUFQLENBQVcsTUFBWCxFQUFtQkUsMEJBQW5CO0FBQ0FOLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLE1BQVgsRUFBbUJDLHlCQUFuQjtBQUNBUixNQUFNLENBQUNTLE1BQVAsQ0FBYyxNQUFkLEVBQXNCQyx1QkFBdEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixNQUFqQiJ9","map":{"version":3,"names":["router","Router","post","nuevoUsuario","get","listaUsuarios","buscaUsuarioPorID","put","actualizaUsuario","delete","eliminaUsuario","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\routes\\","sources":["usuarios.route.js"],"sourcesContent":["import {Router} from 'express';\r\nimport { nuevoUsuario, listaUsuarios, buscaUsuarioPorID, actualizaUsuario, eliminaUsuario } from '../controllers/usuario.controller'\r\n\r\nconst router = Router()\r\n\r\nrouter.post('/addUser', nuevoUsuario)\r\nrouter.get('/', listaUsuarios)\r\nrouter.get('/:id', buscaUsuarioPorID)\r\nrouter.put('/:id', actualizaUsuario)\r\nrouter.delete('/:id', eliminaUsuario)\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,UAAZ,EAAwBC,qBAAxB;AACAH,MAAM,CAACI,GAAP,CAAW,GAAX,EAAgBC,sBAAhB;AACAL,MAAM,CAACI,GAAP,CAAW,MAAX,EAAmBE,0BAAnB;AACAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBC,yBAAnB;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAsBC,uBAAtB;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1661819216185},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\usuario.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _usuarios = _interopRequireDefault(require(\"../models/usuarios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst nuevoUsuario = async (req, res) => {\n  try {\n    const user = await buscarPorEmail(req.body.email);\n\n    if (user !== null) {\n      res.status(400).json({\n        Mensaje: 'Ya existe un usuario con el mail ingresado'\n      });\n    } else {\n      const usuario = new _usuarios.default(req.body);\n      await usuario.save();\n      res.status(201).json({\n        Mensaje: \"Usuario agregado con exito\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst buscarPorEmail = async email => {\n  const user = await _usuarios.default.findOne({\n    email\n  });\n  return user;\n};\n\nconst listaUsuarios = async (req, res) => {\n  try {\n    const usuarios = await _usuarios.default.find();\n    res.status(200).json(usuarios);\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst buscaUsuarioPorID = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const usuario = await _usuarios.default.findById(id);\n    res.status(200).json(usuario);\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst actualizaUsuario = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const body = req.body;\n    await _usuarios.default.findByIdAndUpdate(id, body);\n    res.status(200).json({\n      Mensaje: 'Usuario actualizado con exito'\n    });\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst eliminaUsuario = async (req, res) => {\n  try {\n    const id = req.params.id;\n    await _usuarios.default.findByIdAndDelete(id);\n    res.status(200).json({\n      Mensaje: 'Usuario eliminado con exito'\n    });\n  } catch (error) {}\n};\n\nmodule.exports = {\n  nuevoUsuario,\n  listaUsuarios,\n  buscaUsuarioPorID,\n  actualizaUsuario,\n  eliminaUsuario\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJudWV2b1VzdWFyaW8iLCJyZXEiLCJyZXMiLCJ1c2VyIiwiYnVzY2FyUG9yRW1haWwiLCJib2R5IiwiZW1haWwiLCJzdGF0dXMiLCJqc29uIiwiTWVuc2FqZSIsInVzdWFyaW8iLCJVc3VhcmlvIiwic2F2ZSIsImVycm9yIiwiZmluZE9uZSIsImxpc3RhVXN1YXJpb3MiLCJ1c3VhcmlvcyIsImZpbmQiLCJidXNjYVVzdWFyaW9Qb3JJRCIsImlkIiwicGFyYW1zIiwiZmluZEJ5SWQiLCJhY3R1YWxpemFVc3VhcmlvIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJlbGltaW5hVXN1YXJpbyIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxBVHlHR1xcQkVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXN1YXJpby5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc3VhcmlvIGZyb20gXCIuLi9tb2RlbHMvdXN1YXJpb3NcIjtcclxuXHJcbmNvbnN0IG51ZXZvVXN1YXJpbyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYnVzY2FyUG9yRW1haWwocmVxLmJvZHkuZW1haWwpXHJcbiAgICBpZih1c2VyICE9PSBudWxsKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgTWVuc2FqZTogJ1lhIGV4aXN0ZSB1biB1c3VhcmlvIGNvbiBlbCBtYWlsIGluZ3Jlc2FkbycgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHVzdWFyaW8gPSBuZXcgVXN1YXJpbyhyZXEuYm9keSk7XHJcbiAgICAgIGF3YWl0IHVzdWFyaW8uc2F2ZSgpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IE1lbnNhamU6IFwiVXN1YXJpbyBhZ3JlZ2FkbyBjb24gZXhpdG9cIiB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBNZW5zYWplOiBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBidXNjYXJQb3JFbWFpbCA9IGFzeW5jKGVtYWlsKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZSh7ZW1haWx9KVxyXG4gIHJldHVybiB1c2VyXHJcbn1cclxuXHJcbmNvbnN0IGxpc3RhVXN1YXJpb3MgPWFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzdWFyaW9zID0gYXdhaXQgVXN1YXJpby5maW5kKClcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzdWFyaW9zKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IE1lbnNhamU6IGVycm9yIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBidXNjYVVzdWFyaW9Qb3JJRCA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgY29uc3QgdXN1YXJpbyA9IGF3YWl0IFVzdWFyaW8uZmluZEJ5SWQoaWQpXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c3VhcmlvKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IE1lbnNhamU6IGVycm9yIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBhY3R1YWxpemFVc3VhcmlvID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBjb25zdCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGF3YWl0IFVzdWFyaW8uZmluZEJ5SWRBbmRVcGRhdGUoaWQsIGJvZHkpXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IE1lbnNhamU6ICdVc3VhcmlvIGFjdHVhbGl6YWRvIGNvbiBleGl0bycgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBNZW5zYWplOiBlcnJvciB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZWxpbWluYVVzdWFyaW8gPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGF3YWl0IFVzdWFyaW8uZmluZEJ5SWRBbmREZWxldGUoaWQpXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IE1lbnNhamU6ICdVc3VhcmlvIGVsaW1pbmFkbyBjb24gZXhpdG8nIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgbnVldm9Vc3VhcmlvLFxyXG4gIGxpc3RhVXN1YXJpb3MsXHJcbiAgYnVzY2FVc3VhcmlvUG9ySUQsXHJcbiAgYWN0dWFsaXphVXN1YXJpbyxcclxuICBlbGltaW5hVXN1YXJpbyxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUN2QyxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLE1BQU1DLGNBQWMsQ0FBQ0gsR0FBRyxDQUFDSSxJQUFKLENBQVNDLEtBQVYsQ0FBakM7O0lBQ0EsSUFBR0gsSUFBSSxLQUFLLElBQVosRUFBa0I7TUFDaEJELEdBQUcsQ0FBQ0ssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO1FBQUVDLE9BQU8sRUFBRTtNQUFYLENBQXJCO0lBQ0QsQ0FGRCxNQUVPO01BQ0wsTUFBTUMsT0FBTyxHQUFHLElBQUlDLGlCQUFKLENBQVlWLEdBQUcsQ0FBQ0ksSUFBaEIsQ0FB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","map":{"version":3,"names":["nuevoUsuario","req","res","user","buscarPorEmail","body","email","status","json","Mensaje","usuario","Usuario","save","error","findOne","listaUsuarios","usuarios","find","buscaUsuarioPorID","id","params","findById","actualizaUsuario","findByIdAndUpdate","eliminaUsuario","findByIdAndDelete","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\controllers\\","sources":["usuario.controller.js"],"sourcesContent":["import Usuario from \"../models/usuarios\";\r\n\r\nconst nuevoUsuario = async (req, res) => {\r\n  try {\r\n    const user = await buscarPorEmail(req.body.email)\r\n    if(user !== null) {\r\n      res.status(400).json({ Mensaje: 'Ya existe un usuario con el mail ingresado' })\r\n    } else {\r\n      const usuario = new Usuario(req.body);\r\n      await usuario.save();\r\n      res.status(201).json({ Mensaje: \"Usuario agregado con exito\" });\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error });\r\n  }\r\n};\r\n\r\nconst buscarPorEmail = async(email) => {\r\n  const user = await Usuario.findOne({email})\r\n  return user\r\n}\r\n\r\nconst listaUsuarios =async(req, res) => {\r\n  try {\r\n    const usuarios = await Usuario.find()\r\n    res.status(200).json(usuarios)\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n}\r\n\r\nconst buscaUsuarioPorID = async(req, res) => {\r\n  try {\r\n    const id = req.params.id\r\n    const usuario = await Usuario.findById(id)\r\n    res.status(200).json(usuario)\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n}\r\n\r\nconst actualizaUsuario = async(req, res) => {\r\n  try {\r\n    const id = req.params.id\r\n    const body = req.body\r\n    await Usuario.findByIdAndUpdate(id, body)\r\n    res.status(200).json({ Mensaje: 'Usuario actualizado con exito' })\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n}\r\n\r\nconst eliminaUsuario = async(req, res) => {\r\n  try {\r\n    const id = req.params.id\r\n    await Usuario.findByIdAndDelete(id)\r\n    res.status(200).json({ Mensaje: 'Usuario eliminado con exito' })\r\n  } catch (error) {\r\n    \r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  nuevoUsuario,\r\n  listaUsuarios,\r\n  buscaUsuarioPorID,\r\n  actualizaUsuario,\r\n  eliminaUsuario,\r\n};\r\n"],"mappings":"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"}},"mtime":1661914010109},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\models\\\\usuarios.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst usuarioSchema = new _mongoose.Schema({\n  nombre: {\n    type: String,\n    trim: true,\n    required: true,\n    minlength: 4,\n    maxlength: 60\n  },\n  apellido: {\n    type: String,\n    trim: true,\n    required: true,\n    minlength: 3,\n    maxlength: 60\n  },\n  edad: {\n    type: Number,\n    trim: true,\n    required: true,\n    minlength: 1,\n    maxlength: 3\n  },\n  email: {\n    type: String,\n    trim: true,\n    required: true,\n    unique: true,\n    minlength: 15,\n    maxlength: 40\n  },\n  clave: {\n    type: String,\n    trim: true,\n    required: true,\n    minlength: 8,\n    maxlength: 15\n  }\n}, {\n  timestamps: true\n});\nusuarioSchema.pre('save', function (next) {\n  _bcrypt.default.genSalt(10).then(salts => {\n    _bcrypt.default.hash(this.clave, salts).then(hash => {\n      this.clave = hash;\n      next();\n    }).catch(error => next(error));\n  }).catch(error => next(error));\n});\n\nusuarioSchema.methods.comparePassword = function (clave1, cb) {\n  _bcrypt.default.compare(clave1, this.clave, function (err, isMatch) {\n    if (err) return cb(err);\n    cb(null, isMatch);\n  });\n};\n\nconst Usuario = _mongoose.default.model('Usuario', usuarioSchema);\n\nvar _default = Usuario;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c3VhcmlvU2NoZW1hIiwiU2NoZW1hIiwibm9tYnJlIiwidHlwZSIsIlN0cmluZyIsInRyaW0iLCJyZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsImFwZWxsaWRvIiwiZWRhZCIsIk51bWJlciIsImVtYWlsIiwidW5pcXVlIiwiY2xhdmUiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsImJjcnlwdCIsImdlblNhbHQiLCJ0aGVuIiwic2FsdHMiLCJoYXNoIiwiY2F0Y2giLCJlcnJvciIsIm1ldGhvZHMiLCJjb21wYXJlUGFzc3dvcmQiLCJjbGF2ZTEiLCJjYiIsImNvbXBhcmUiLCJlcnIiLCJpc01hdGNoIiwiVXN1YXJpbyIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxPbmVEcml2ZVxcRXNjcml0b3Jpb1xcQVR5R0dcXEJFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c3Vhcmlvcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcclxuXHJcbmNvbnN0IHVzdWFyaW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG5vbWJyZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIG1pbmxlbmd0aDogNCxcclxuICAgICAgICBtYXhsZW5ndGg6IDYwLFxyXG4gICAgICB9LFxyXG4gICAgICBhcGVsbGlkbzoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIG1pbmxlbmd0aDogMyxcclxuICAgICAgICBtYXhsZW5ndGg6IDYwLFxyXG4gICAgICB9LFxyXG4gICAgICBlZGFkOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOiAxLFxyXG4gICAgICAgIG1heGxlbmd0aDogMyxcclxuICAgICAgfSxcclxuICAgICAgZW1haWw6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdHJpbTogdHJ1ZSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOjE1LFxyXG4gICAgICAgIG1heGxlbmd0aDogNDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNsYXZlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOiA4LFxyXG4gICAgICAgIG1heGxlbmd0aDogMTUsXHJcbiAgICAgIH1cclxufSwge3RpbWVzdGFtcHM6IHRydWV9IClcclxuXHJcbnVzdWFyaW9TY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIGJjcnlwdFxyXG4gICAgICAuZ2VuU2FsdCgxMClcclxuICAgICAgLnRoZW4oKHNhbHRzKSA9PiB7XHJcbiAgICAgICAgYmNyeXB0XHJcbiAgICAgICAgICAuaGFzaCh0aGlzLmNsYXZlLCBzYWx0cylcclxuICAgICAgICAgIC50aGVuKChoYXNoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhdmUgPSBoYXNoO1xyXG4gICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gbmV4dChlcnJvcikpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBuZXh0KGVycm9yKSk7XHJcbiAgfSk7XHJcblxyXG51c3VhcmlvU2NoZW1hLm1ldGhvZHMuY29tcGFyZVBhc3N3b3JkID0gZnVuY3Rpb24gKGNsYXZlMSwgY2IpIHtcclxuICAgIGJjcnlwdC5jb21wYXJlKGNsYXZlMSwgdGhpcy5jbGF2ZSwgZnVuY3Rpb24gKGVyciwgaXNNYXRjaCkge1xyXG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcclxuICAgICAgY2IobnVsbCwgaXNNYXRjaCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIFxyXG5jb25zdCBVc3VhcmlvID0gbW9uZ29vc2UubW9kZWwoJ1VzdWFyaW8nLCB1c3VhcmlvU2NoZW1hKVxyXG5leHBvcnQgZGVmYXVsdCBVc3VhcmlvOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzdCQyxNQUFNLEVBQUU7SUFDSkMsSUFBSSxFQUFFQyxNQURGO0lBRUpDLElBQUksRUFBRSxJQUZGO0lBR0pDLFFBQVEsRUFBRSxJQUhOO0lBSUpDLFNBQVMsRUFBRSxDQUpQO0lBS0pDLFNBQVMsRUFBRTtFQUxQLENBRHFCO0VBUTNCQyxRQUFRLEVBQUU7SUFDUk4sSUFBSSxFQUFFQyxNQURFO0lBRVJDLElBQUksRUFBRSxJQUZFO0lBR1JDLFFBQVEsRUFBRSxJQUhGO0lBSVJDLFNBQVMsRUFBRSxDQUpIO0lBS1JDLFNBQVMsRUFBRTtFQUxILENBUmlCO0VBZTNCRSxJQUFJLEVBQUU7SUFDSlAsSUFBSSxFQUFFUSxNQURGO0lBRUpOLElBQUksRUFBRSxJQUZGO0lBR0pDLFFBQVEsRUFBRSxJQUhOO0lBSUpDLFNBQVMsRUFBRSxDQUpQO0lBS0pDLFNBQVMsRUFBRTtFQUxQLENBZnFCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0xULElBQUksRUFBRUMsTUFERDtJQUVMQyxJQUFJLEVBQUUsSUFGRDtJQUdMQyxRQUFRLEVBQUUsSUFITDtJQUlMTyxNQUFNLEVBQUUsSUFKSDtJQUtMTixTQUFTLEVBQUMsRUFMTDtJQU1MQyxTQUFTLEVBQUU7RUFOTixDQXRCb0I7RUE4QjNCTSxLQUFLLEVBQUU7SUFDTFgsSUFBSSxFQUFFQyxNQUREO0lBRUxDLElBQUksRUFBRSxJQUZEO0lBR0xDLFFBQVEsRUFBRSxJQUhMO0lBSUxDLFNBQVMsRUFBRSxDQUpOO0lBS0xDLFNBQVMsRUFBRTtFQUxOO0FBOUJvQixDQUFYLEVBcUNuQjtFQUFDTyxVQUFVLEVBQUU7QUFBYixDQXJDbUIsQ0FBdEI7QUF1Q0FmLGFBQWEsQ0FBQ2dCLEdBQWQsQ0FBa0IsTUFBbEIsRUFBMEIsVUFBVUMsSUFBVixFQUFnQjtFQUN0Q0MsZUFBQSxDQUNHQyxPQURILENBQ1csRUFEWCxFQUVHQyxJQUZILENBRVNDLEtBQUQsSUFBVztJQUNmSCxlQUFBLENBQ0dJLElBREgsQ0FDUSxLQUFLUixLQURiLEVBQ29CTyxLQURwQixFQUVHRCxJQUZILENBRVNFLElBQUQsSUFBVTtNQUNkLEtBQUtSLEtBQUwsR0FBYVEsSUFBYjtNQUNBTCxJQUFJO0lBQ0wsQ0FMSCxFQU1HTSxLQU5ILENBTVVDLEtBQUQsSUFBV1AsSUFBSSxDQUFDTyxLQUFELENBTnhCO0VBT0QsQ0FWSCxFQVdHRCxLQVhILENBV1VDLEtBQUQsSUFBV1AsSUFBSSxDQUFDTyxLQUFELENBWHhCO0FBWUQsQ0FiSDs7QUFlQXhCLGFBQWEsQ0FBQ3lCLE9BQWQsQ0FBc0JDLGVBQXRCLEdBQXdDLFVBQVVDLE1BQVYsRUFBa0JDLEVBQWxCLEVBQXNCO0VBQzFEVixlQUFBLENBQU9XLE9BQVAsQ0FBZUYsTUFBZixFQUF1QixLQUFLYixLQUE1QixFQUFtQyxVQUFVZ0IsR0FBVixFQUFlQyxPQUFmLEVBQXdCO0lBQ3pELElBQUlELEdBQUosRUFBUyxPQUFPRixFQUFFLENBQUNFLEdBQUQsQ0FBVDtJQUNURixFQUFFLENBQUMsSUFBRCxFQUFPRyxPQUFQLENBQUY7RUFDRCxDQUhEO0FBSUQsQ0FMSDs7QUFPQSxNQUFNQyxPQUFPLEdBQUdDLGlCQUFBLENBQVNDLEtBQVQsQ0FBZSxTQUFmLEVBQTBCbEMsYUFBMUIsQ0FBaEI7O2VBQ2VnQyxPIn0=","map":{"version":3,"names":["usuarioSchema","Schema","nombre","type","String","trim","required","minlength","maxlength","apellido","edad","Number","email","unique","clave","timestamps","pre","next","bcrypt","genSalt","then","salts","hash","catch","error","methods","comparePassword","clave1","cb","compare","err","isMatch","Usuario","mongoose","model"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\models\\","sources":["usuarios.js"],"sourcesContent":["import mongoose, {Schema} from 'mongoose'\r\nimport bcrypt from 'bcrypt'\r\n\r\nconst usuarioSchema = new Schema({\r\n    nombre: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 4,\r\n        maxlength: 60,\r\n      },\r\n      apellido: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 3,\r\n        maxlength: 60,\r\n      },\r\n      edad: {\r\n        type: Number,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 1,\r\n        maxlength: 3,\r\n      },\r\n      email: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        unique: true,\r\n        minlength:15,\r\n        maxlength: 40,\r\n      },\r\n      clave: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 8,\r\n        maxlength: 15,\r\n      }\r\n}, {timestamps: true} )\r\n\r\nusuarioSchema.pre('save', function (next) {\r\n    bcrypt\r\n      .genSalt(10)\r\n      .then((salts) => {\r\n        bcrypt\r\n          .hash(this.clave, salts)\r\n          .then((hash) => {\r\n            this.clave = hash;\r\n            next();\r\n          })\r\n          .catch((error) => next(error));\r\n      })\r\n      .catch((error) => next(error));\r\n  });\r\n\r\nusuarioSchema.methods.comparePassword = function (clave1, cb) {\r\n    bcrypt.compare(clave1, this.clave, function (err, isMatch) {\r\n      if (err) return cb(err);\r\n      cb(null, isMatch);\r\n    });\r\n  };\r\n  \r\nconst Usuario = mongoose.model('Usuario', usuarioSchema)\r\nexport default Usuario;"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CAAW;EAC7BC,MAAM,EAAE;IACJC,IAAI,EAAEC,MADF;IAEJC,IAAI,EAAE,IAFF;IAGJC,QAAQ,EAAE,IAHN;IAIJC,SAAS,EAAE,CAJP;IAKJC,SAAS,EAAE;EALP,CADqB;EAQ3BC,QAAQ,EAAE;IACRN,IAAI,EAAEC,MADE;IAERC,IAAI,EAAE,IAFE;IAGRC,QAAQ,EAAE,IAHF;IAIRC,SAAS,EAAE,CAJH;IAKRC,SAAS,EAAE;EALH,CARiB;EAe3BE,IAAI,EAAE;IACJP,IAAI,EAAEQ,MADF;IAEJN,IAAI,EAAE,IAFF;IAGJC,QAAQ,EAAE,IAHN;IAIJC,SAAS,EAAE,CAJP;IAKJC,SAAS,EAAE;EALP,CAfqB;EAsB3BI,KAAK,EAAE;IACLT,IAAI,EAAEC,MADD;IAELC,IAAI,EAAE,IAFD;IAGLC,QAAQ,EAAE,IAHL;IAILO,MAAM,EAAE,IAJH;IAKLN,SAAS,EAAC,EALL;IAMLC,SAAS,EAAE;EANN,CAtBoB;EA8B3BM,KAAK,EAAE;IACLX,IAAI,EAAEC,MADD;IAELC,IAAI,EAAE,IAFD;IAGLC,QAAQ,EAAE,IAHL;IAILC,SAAS,EAAE,CAJN;IAKLC,SAAS,EAAE;EALN;AA9BoB,CAAX,EAqCnB;EAACO,UAAU,EAAE;AAAb,CArCmB,CAAtB;AAuCAf,aAAa,CAACgB,GAAd,CAAkB,MAAlB,EAA0B,UAAUC,IAAV,EAAgB;EACtCC,eAAA,CACGC,OADH,CACW,EADX,EAEGC,IAFH,CAESC,KAAD,IAAW;IACfH,eAAA,CACGI,IADH,CACQ,KAAKR,KADb,EACoBO,KADpB,EAEGD,IAFH,CAESE,IAAD,IAAU;MACd,KAAKR,KAAL,GAAaQ,IAAb;MACAL,IAAI;IACL,CALH,EAMGM,KANH,CAMUC,KAAD,IAAWP,IAAI,CAACO,KAAD,CANxB;EAOD,CAVH,EAWGD,KAXH,CAWUC,KAAD,IAAWP,IAAI,CAACO,KAAD,CAXxB;AAYD,CAbH;;AAeAxB,aAAa,CAACyB,OAAd,CAAsBC,eAAtB,GAAwC,UAAUC,MAAV,EAAkBC,EAAlB,EAAsB;EAC1DV,eAAA,CAAOW,OAAP,CAAeF,MAAf,EAAuB,KAAKb,KAA5B,EAAmC,UAAUgB,GAAV,EAAeC,OAAf,EAAwB;IACzD,IAAID,GAAJ,EAAS,OAAOF,EAAE,CAACE,GAAD,CAAT;IACTF,EAAE,CAAC,IAAD,EAAOG,OAAP,CAAF;EACD,CAHD;AAID,CALH;;AAOA,MAAMC,OAAO,GAAGC,iBAAA,CAASC,KAAT,CAAe,SAAf,EAA0BlC,aAA1B,CAAhB;;eACegC,O"}},"mtime":1661904666165},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\login.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _login = require(\"../controllers/login.controller\");\n\nconst router = (0, _express.Router)();\nrouter.post('/', _login.login);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibG9naW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEFsZWphbmRyb1xcT25lRHJpdmVcXEVzY3JpdG9yaW9cXEFUeUdHXFxCRVxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsibG9naW4ucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2xvZ2luLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnBvc3QoJy8nLCBsb2dpbilcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUVBRCxNQUFNLENBQUNFLElBQVAsQ0FBWSxHQUFaLEVBQWlCQyxZQUFqQjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJMLE1BQWpCIn0=","map":{"version":3,"names":["router","Router","post","login","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\routes\\","sources":["login.route.js"],"sourcesContent":["import {Router} from 'express';\r\nimport { login } from '../controllers/login.controller'\r\n\r\nconst router = Router()\r\n\r\nrouter.post('/', login)\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,GAAZ,EAAiBC,YAAjB;AAEAC,MAAM,CAACC,OAAP,GAAiBL,MAAjB"}},"mtime":1661825248747},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\login.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _usuarios = _interopRequireDefault(require(\"../models/usuarios\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst login = async (req, res, next) => {\n  try {\n    const {\n      email,\n      clave\n    } = req.body;\n    const validaUsuario = await _usuarios.default.findOne({\n      email\n    });\n\n    if (!validaUsuario) {\n      return res.status(400).json({\n        Mensaje: \"El usuario no se encuentra registrado\"\n      });\n    }\n\n    const validaClave = await _bcrypt.default.compare(clave, validaUsuario.clave);\n\n    if (!validaClave) {\n      res.status(400).json({\n        Mensaje: \"La clave ingresada es incorrecta\"\n      });\n      return;\n    }\n\n    const generaToken = encrypt(validaUsuario.id);\n    const {\n      nombre,\n      apellido\n    } = validaUsuario;\n    res.status(201).json({\n      generaToken,\n      usuario: {\n        nombre,\n        apellido,\n        email\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst encrypt = id => _jsonwebtoken.default.sign({\n  id\n}, process.env.JWT_SECRET, {\n  expiresIn: process.env.AUTH_TTL\n});\n\nmodule.exports = {\n  login\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dpbiIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsImNsYXZlIiwiYm9keSIsInZhbGlkYVVzdWFyaW8iLCJVc3VhcmlvIiwiZmluZE9uZSIsInN0YXR1cyIsImpzb24iLCJNZW5zYWplIiwidmFsaWRhQ2xhdmUiLCJiY3J5cHQiLCJjb21wYXJlIiwiZ2VuZXJhVG9rZW4iLCJlbmNyeXB0IiwiaWQiLCJub21icmUiLCJhcGVsbGlkbyIsInVzdWFyaW8iLCJlcnJvciIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIkFVVEhfVFRMIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxBVHlHR1xcQkVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsibG9naW4uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXN1YXJpbyBmcm9tIFwiLi4vbW9kZWxzL3VzdWFyaW9zXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcbmNvbnN0IGxvZ2luID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwsIGNsYXZlIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHZhbGlkYVVzdWFyaW8gPSBhd2FpdCBVc3VhcmlvLmZpbmRPbmUoeyBlbWFpbCB9KTtcclxuICAgIGlmICghdmFsaWRhVXN1YXJpbykge1xyXG4gICAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAuanNvbih7IE1lbnNhamU6IFwiRWwgdXN1YXJpbyBubyBzZSBlbmN1ZW50cmEgcmVnaXN0cmFkb1wiIH0pO1xyXG4gICAgICBcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbGlkYUNsYXZlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoY2xhdmUsIHZhbGlkYVVzdWFyaW8uY2xhdmUpO1xyXG4gICAgaWYgKCF2YWxpZGFDbGF2ZSkge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IE1lbnNhamU6IFwiTGEgY2xhdmUgaW5ncmVzYWRhIGVzIGluY29ycmVjdGFcIiB9KTtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBnZW5lcmFUb2tlbiA9IGVuY3J5cHQodmFsaWRhVXN1YXJpby5pZCk7XHJcbiAgICBjb25zdCB7IG5vbWJyZSwgYXBlbGxpZG8gfSA9IHZhbGlkYVVzdWFyaW87XHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IFxyXG4gICAgICBnZW5lcmFUb2tlbixcclxuICAgICAgdXN1YXJpbzoge25vbWJyZSwgYXBlbGxpZG8sIGVtYWlsIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IE1lbnNhamU6IGVycm9yIH0pXHJcbiAgfVxyXG5cclxufTtcclxuXHJcbmNvbnN0IGVuY3J5cHQgPSAoaWQpID0+XHJcbiAgand0LnNpZ24oeyBpZCB9LCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogcHJvY2Vzcy5lbnYuQVVUSF9UVEwgfSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBsb2dpbixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsS0FBSyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDdEMsSUFBSTtJQUNGLE1BQU07TUFBRUMsS0FBRjtNQUFTQztJQUFULElBQW1CSixHQUFHLENBQUNLLElBQTdCO0lBQ0EsTUFBTUMsYUFBYSxHQUFHLE1BQU1DLGlCQUFBLENBQVFDLE9BQVIsQ0FBZ0I7TUFBRUw7SUFBRixDQUFoQixDQUE1Qjs7SUFDQSxJQUFJLENBQUNHLGFBQUwsRUFBb0I7TUFDbEIsT0FBT0wsR0FBRyxDQUNUUSxNQURNLENBQ0MsR0FERCxFQUVOQyxJQUZNLENBRUQ7UUFBRUMsT0FBTyxFQUFFO01BQVgsQ0FGQyxDQUFQO0lBSUQ7O0lBQ0QsTUFBTUMsV0FBVyxHQUFHLE1BQU1DLGVBQUEsQ0FBT0MsT0FBUCxDQUFlVixLQUFmLEVBQXNCRSxhQUFhLENBQUNGLEtBQXBDLENBQTFCOztJQUNBLElBQUksQ0FBQ1EsV0FBTCxFQUFrQjtNQUNoQlgsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7UUFBRUMsT0FBTyxFQUFFO01BQVgsQ0FBckI7TUFDQTtJQUNEOztJQUNELE1BQU1JLFdBQVcsR0FBR0MsT0FBTyxDQUFDVixhQUFhLENBQUNXLEVBQWYsQ0FBM0I7SUFDQSxNQUFNO01BQUVDLE1BQUY7TUFBVUM7SUFBVixJQUF1QmIsYUFBN0I7SUFDQUwsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7TUFDbkJLLFdBRG1CO01BRW5CSyxPQUFPLEVBQUU7UUFBQ0YsTUFBRDtRQUFTQyxRQUFUO1FBQW1CaEI7TUFBbkI7SUFGVSxDQUFyQjtFQU1ELENBdEJELENBc0JFLE9BQU9rQixLQUFQLEVBQWM7SUFDZHBCLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO01BQUVDLE9BQU8sRUFBRVU7SUFBWCxDQUFyQjtFQUNEO0FBRUYsQ0EzQkQ7O0FBNkJBLE1BQU1MLE9BQU8sR0FBSUMsRUFBRCxJQUNkSyxxQkFBQSxDQUFJQyxJQUFKLENBQVM7RUFBRU47QUFBRixDQUFULEVBQWlCTyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBN0IsRUFBeUM7RUFBRUMsU0FBUyxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUc7QUFBekIsQ0FBekMsQ0FERjs7QUFHQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2YvQjtBQURlLENBQWpCIn0=","map":{"version":3,"names":["login","req","res","next","email","clave","body","validaUsuario","Usuario","findOne","status","json","Mensaje","validaClave","bcrypt","compare","generaToken","encrypt","id","nombre","apellido","usuario","error","jwt","sign","process","env","JWT_SECRET","expiresIn","AUTH_TTL","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\controllers\\","sources":["login.controller.js"],"sourcesContent":["import Usuario from \"../models/usuarios\";\r\nimport bcrypt from 'bcrypt'\r\nimport jwt from 'jsonwebtoken'\r\n\r\nconst login = async (req, res, next) => {\r\n  try {\r\n    const { email, clave } = req.body;\r\n    const validaUsuario = await Usuario.findOne({ email });\r\n    if (!validaUsuario) {\r\n      return res\r\n      .status(400)\r\n      .json({ Mensaje: \"El usuario no se encuentra registrado\" });\r\n      \r\n    }\r\n    const validaClave = await bcrypt.compare(clave, validaUsuario.clave);\r\n    if (!validaClave) {\r\n      res.status(400).json({ Mensaje: \"La clave ingresada es incorrecta\" });\r\n      return\r\n    }\r\n    const generaToken = encrypt(validaUsuario.id);\r\n    const { nombre, apellido } = validaUsuario;\r\n    res.status(201).json({ \r\n      generaToken,\r\n      usuario: {nombre, apellido, email }\r\n    })\r\n    \r\n    \r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n\r\n};\r\n\r\nconst encrypt = (id) =>\r\n  jwt.sign({ id }, process.env.JWT_SECRET, { expiresIn: process.env.AUTH_TTL });\r\n\r\nmodule.exports = {\r\n  login,\r\n};\r\n"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,KAAK,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACtC,IAAI;IACF,MAAM;MAAEC,KAAF;MAASC;IAAT,IAAmBJ,GAAG,CAACK,IAA7B;IACA,MAAMC,aAAa,GAAG,MAAMC,iBAAA,CAAQC,OAAR,CAAgB;MAAEL;IAAF,CAAhB,CAA5B;;IACA,IAAI,CAACG,aAAL,EAAoB;MAClB,OAAOL,GAAG,CACTQ,MADM,CACC,GADD,EAENC,IAFM,CAED;QAAEC,OAAO,EAAE;MAAX,CAFC,CAAP;IAID;;IACD,MAAMC,WAAW,GAAG,MAAMC,eAAA,CAAOC,OAAP,CAAeV,KAAf,EAAsBE,aAAa,CAACF,KAApC,CAA1B;;IACA,IAAI,CAACQ,WAAL,EAAkB;MAChBX,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;QAAEC,OAAO,EAAE;MAAX,CAArB;MACA;IACD;;IACD,MAAMI,WAAW,GAAGC,OAAO,CAACV,aAAa,CAACW,EAAf,CAA3B;IACA,MAAM;MAAEC,MAAF;MAAUC;IAAV,IAAuBb,aAA7B;IACAL,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MACnBK,WADmB;MAEnBK,OAAO,EAAE;QAACF,MAAD;QAASC,QAAT;QAAmBhB;MAAnB;IAFU,CAArB;EAMD,CAtBD,CAsBE,OAAOkB,KAAP,EAAc;IACdpB,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAAEC,OAAO,EAAEU;IAAX,CAArB;EACD;AAEF,CA3BD;;AA6BA,MAAML,OAAO,GAAIC,EAAD,IACdK,qBAAA,CAAIC,IAAJ,CAAS;EAAEN;AAAF,CAAT,EAAiBO,OAAO,CAACC,GAAR,CAAYC,UAA7B,EAAyC;EAAEC,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAAzB,CAAzC,CADF;;AAGAC,MAAM,CAACC,OAAP,GAAiB;EACf/B;AADe,CAAjB"}},"mtime":1661917876518},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import mysql from 'mysql'\n// const connection = mysql.createConnection({\n//     host: '127.0.0.1',\n//     user:'root',\n//     password:'2203casa',\n//     database: 'atygg'\n// })\n// connection.connect(err => {\n//     if(err) throw err\n//     console.log('Dtabase connected')\n// })\nconst url = 'mongodb://localhost:27017/atygg';\n\n_mongoose.default.connect(url, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst connection = _mongoose.default.connection;\nconnection.once('open', () => {\n  console.log(\"Base de datos conectada\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cmwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0aW9uIiwib25jZSIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxPbmVEcml2ZVxcRXNjcml0b3Jpb1xcQVR5R0dcXEJFXFxzcmNcXCIsInNvdXJjZXMiOlsiZGF0YWJhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuXG4vLyBjb25zdCBjb25uZWN0aW9uID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XG4vLyAgICAgaG9zdDogJzEyNy4wLjAuMScsXG4vLyAgICAgdXNlcjoncm9vdCcsXG4vLyAgICAgcGFzc3dvcmQ6JzIyMDNjYXNhJyxcbi8vICAgICBkYXRhYmFzZTogJ2F0eWdnJ1xuLy8gfSlcblxuLy8gY29ubmVjdGlvbi5jb25uZWN0KGVyciA9PiB7XG4vLyAgICAgaWYoZXJyKSB0aHJvdyBlcnJcbi8vICAgICBjb25zb2xlLmxvZygnRHRhYmFzZSBjb25uZWN0ZWQnKVxuLy8gfSlcblxuY29uc3QgdXJsPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9hdHlnZydcbm1vbmdvb3NlLmNvbm5lY3QodXJsLHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6dHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZSxcbn0pXG5cbmNvbnN0IGNvbm5lY3Rpb24gPSBtb25nb29zZS5jb25uZWN0aW9uO1xuY29ubmVjdGlvbi5vbmNlKCdvcGVuJywgKCkgPT57XG4gICAgY29uc29sZS5sb2coXCJCYXNlIGRlIGRhdG9zIGNvbmVjdGFkYVwiKVxufSkgICJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxHQUFHLEdBQUUsaUNBQVg7O0FBQ0FDLGlCQUFBLENBQVNDLE9BQVQsQ0FBaUJGLEdBQWpCLEVBQXFCO0VBQ2pCRyxlQUFlLEVBQUMsSUFEQztFQUVqQkMsa0JBQWtCLEVBQUM7QUFGRixDQUFyQjs7QUFLQSxNQUFNQyxVQUFVLEdBQUdKLGlCQUFBLENBQVNJLFVBQTVCO0FBQ0FBLFVBQVUsQ0FBQ0MsSUFBWCxDQUFnQixNQUFoQixFQUF3QixNQUFLO0VBQ3pCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSx5QkFBWjtBQUNILENBRkQifQ==","map":{"version":3,"names":["url","mongoose","connect","useNewUrlParser","useUnifiedTopology","connection","once","console","log"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\","sources":["database.js"],"sourcesContent":["// import mysql from 'mysql'\nimport mongoose from 'mongoose'\n\n// const connection = mysql.createConnection({\n//     host: '127.0.0.1',\n//     user:'root',\n//     password:'2203casa',\n//     database: 'atygg'\n// })\n\n// connection.connect(err => {\n//     if(err) throw err\n//     console.log('Dtabase connected')\n// })\n\nconst url= 'mongodb://localhost:27017/atygg'\nmongoose.connect(url,{\n    useNewUrlParser:true,\n    useUnifiedTopology:true,\n})\n\nconst connection = mongoose.connection;\nconnection.once('open', () =>{\n    console.log(\"Base de datos conectada\")\n})  "],"mappings":";;AACA;;;;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,MAAMA,GAAG,GAAE,iCAAX;;AACAC,iBAAA,CAASC,OAAT,CAAiBF,GAAjB,EAAqB;EACjBG,eAAe,EAAC,IADC;EAEjBC,kBAAkB,EAAC;AAFF,CAArB;;AAKA,MAAMC,UAAU,GAAGJ,iBAAA,CAASI,UAA5B;AACAA,UAAU,CAACC,IAAX,CAAgB,MAAhB,EAAwB,MAAK;EACzBC,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH,CAFD"}},"mtime":1661815608126},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\usuarios.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _usuario = require(\"../controllers/usuario.controller\");\n\nconst router = (0, _express.Router)();\nrouter.post('/addUser', _usuario.nuevoUsuario);\nrouter.get('/', _usuario.listaUsuarios);\nrouter.get('/:id', _usuario.buscaUsuarioPorID);\nrouter.put('/:id', _usuario.actualizaUsuario);\nrouter.delete('/:id', _usuario.eliminaUsuario);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibnVldm9Vc3VhcmlvIiwiZ2V0IiwibGlzdGFVc3VhcmlvcyIsImJ1c2NhVXN1YXJpb1BvcklEIiwicHV0IiwiYWN0dWFsaXphVXN1YXJpbyIsImRlbGV0ZSIsImVsaW1pbmFVc3VhcmlvIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxBVHlHR1xcQkVcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbInVzdWFyaW9zLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgbnVldm9Vc3VhcmlvLCBsaXN0YVVzdWFyaW9zLCBidXNjYVVzdWFyaW9Qb3JJRCwgYWN0dWFsaXphVXN1YXJpbywgZWxpbWluYVVzdWFyaW8gfSBmcm9tICcuLi9jb250cm9sbGVycy91c3VhcmlvLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnBvc3QoJy9hZGRVc2VyJywgbnVldm9Vc3VhcmlvKVxyXG5yb3V0ZXIuZ2V0KCcvJywgbGlzdGFVc3Vhcmlvcylcclxucm91dGVyLmdldCgnLzppZCcsIGJ1c2NhVXN1YXJpb1BvcklEKVxyXG5yb3V0ZXIucHV0KCcvOmlkJywgYWN0dWFsaXphVXN1YXJpbylcclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGVsaW1pbmFVc3VhcmlvKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFVBQVosRUFBd0JDLHFCQUF4QjtBQUNBSCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxzQkFBaEI7QUFDQUwsTUFBTSxDQUFDSSxHQUFQLENBQVcsTUFBWCxFQUFtQkUsMEJBQW5CO0FBQ0FOLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLE1BQVgsRUFBbUJDLHlCQUFuQjtBQUNBUixNQUFNLENBQUNTLE1BQVAsQ0FBYyxNQUFkLEVBQXNCQyx1QkFBdEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixNQUFqQiJ9","map":{"version":3,"names":["router","Router","post","nuevoUsuario","get","listaUsuarios","buscaUsuarioPorID","put","actualizaUsuario","delete","eliminaUsuario","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\routes\\","sources":["usuarios.route.js"],"sourcesContent":["import {Router} from 'express';\r\nimport { nuevoUsuario, listaUsuarios, buscaUsuarioPorID, actualizaUsuario, eliminaUsuario } from '../controllers/usuario.controller'\r\n\r\nconst router = Router()\r\n\r\nrouter.post('/addUser', nuevoUsuario)\r\nrouter.get('/', listaUsuarios)\r\nrouter.get('/:id', buscaUsuarioPorID)\r\nrouter.put('/:id', actualizaUsuario)\r\nrouter.delete('/:id', eliminaUsuario)\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,UAAZ,EAAwBC,qBAAxB;AACAH,MAAM,CAACI,GAAP,CAAW,GAAX,EAAgBC,sBAAhB;AACAL,MAAM,CAACI,GAAP,CAAW,MAAX,EAAmBE,0BAAnB;AACAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBC,yBAAnB;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAsBC,uBAAtB;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1661819216185},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\usuario.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _usuarios = _interopRequireDefault(require(\"../models/usuarios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst nuevoUsuario = async (req, res) => {\n  try {\n    const user = await buscarPorEmail(req.body.email);\n\n    if (user !== null) {\n      res.status(400).json({\n        Mensaje: 'Ya existe un usuario con el mail ingresado'\n      });\n    } else {\n      const usuario = new _usuarios.default(req.body);\n      await usuario.save();\n      res.status(201).json({\n        Mensaje: \"Usuario agregado con exito\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst buscarPorEmail = async email => {\n  const user = await _usuarios.default.findOne({\n    email\n  });\n  return user;\n};\n\nconst listaUsuarios = async (req, res) => {\n  try {\n    const usuarios = await _usuarios.default.find();\n    res.status(200).json(usuarios);\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst buscaUsuarioPorID = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const usuario = await _usuarios.default.findById(id);\n    res.status(200).json(usuario);\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst actualizaUsuario = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const body = req.body;\n    await _usuarios.default.findByIdAndUpdate(id, body);\n    res.status(200).json({\n      Mensaje: 'Usuario actualizado con exito'\n    });\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst eliminaUsuario = async (req, res) => {\n  try {\n    const id = req.params.id;\n    await _usuarios.default.findByIdAndDelete(id);\n    res.status(200).json({\n      Mensaje: 'Usuario eliminado con exito'\n    });\n  } catch (error) {}\n};\n\nmodule.exports = {\n  nuevoUsuario,\n  listaUsuarios,\n  buscaUsuarioPorID,\n  actualizaUsuario,\n  eliminaUsuario\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJudWV2b1VzdWFyaW8iLCJyZXEiLCJyZXMiLCJ1c2VyIiwiYnVzY2FyUG9yRW1haWwiLCJib2R5IiwiZW1haWwiLCJzdGF0dXMiLCJqc29uIiwiTWVuc2FqZSIsInVzdWFyaW8iLCJVc3VhcmlvIiwic2F2ZSIsImVycm9yIiwiZmluZE9uZSIsImxpc3RhVXN1YXJpb3MiLCJ1c3VhcmlvcyIsImZpbmQiLCJidXNjYVVzdWFyaW9Qb3JJRCIsImlkIiwicGFyYW1zIiwiZmluZEJ5SWQiLCJhY3R1YWxpemFVc3VhcmlvIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJlbGltaW5hVXN1YXJpbyIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxBVHlHR1xcQkVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXN1YXJpby5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc3VhcmlvIGZyb20gXCIuLi9tb2RlbHMvdXN1YXJpb3NcIjtcclxuXHJcbmNvbnN0IG51ZXZvVXN1YXJpbyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYnVzY2FyUG9yRW1haWwocmVxLmJvZHkuZW1haWwpXHJcbiAgICBpZih1c2VyICE9PSBudWxsKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgTWVuc2FqZTogJ1lhIGV4aXN0ZSB1biB1c3VhcmlvIGNvbiBlbCBtYWlsIGluZ3Jlc2FkbycgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHVzdWFyaW8gPSBuZXcgVXN1YXJpbyhyZXEuYm9keSk7XHJcbiAgICAgIGF3YWl0IHVzdWFyaW8uc2F2ZSgpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IE1lbnNhamU6IFwiVXN1YXJpbyBhZ3JlZ2FkbyBjb24gZXhpdG9cIiB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBNZW5zYWplOiBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBidXNjYXJQb3JFbWFpbCA9IGFzeW5jKGVtYWlsKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZSh7ZW1haWx9KVxyXG4gIHJldHVybiB1c2VyXHJcbn1cclxuXHJcbmNvbnN0IGxpc3RhVXN1YXJpb3MgPWFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzdWFyaW9zID0gYXdhaXQgVXN1YXJpby5maW5kKClcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzdWFyaW9zKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IE1lbnNhamU6IGVycm9yIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBidXNjYVVzdWFyaW9Qb3JJRCA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgY29uc3QgdXN1YXJpbyA9IGF3YWl0IFVzdWFyaW8uZmluZEJ5SWQoaWQpXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c3VhcmlvKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IE1lbnNhamU6IGVycm9yIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBhY3R1YWxpemFVc3VhcmlvID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBjb25zdCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGF3YWl0IFVzdWFyaW8uZmluZEJ5SWRBbmRVcGRhdGUoaWQsIGJvZHkpXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IE1lbnNhamU6ICdVc3VhcmlvIGFjdHVhbGl6YWRvIGNvbiBleGl0bycgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBNZW5zYWplOiBlcnJvciB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZWxpbWluYVVzdWFyaW8gPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGF3YWl0IFVzdWFyaW8uZmluZEJ5SWRBbmREZWxldGUoaWQpXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IE1lbnNhamU6ICdVc3VhcmlvIGVsaW1pbmFkbyBjb24gZXhpdG8nIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgbnVldm9Vc3VhcmlvLFxyXG4gIGxpc3RhVXN1YXJpb3MsXHJcbiAgYnVzY2FVc3VhcmlvUG9ySUQsXHJcbiAgYWN0dWFsaXphVXN1YXJpbyxcclxuICBlbGltaW5hVXN1YXJpbyxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUN2QyxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLE1BQU1DLGNBQWMsQ0FBQ0gsR0FBRyxDQUFDSSxJQUFKLENBQVNDLEtBQVYsQ0FBakM7O0lBQ0EsSUFBR0gsSUFBSSxLQUFLLElBQVosRUFBa0I7TUFDaEJELEdBQUcsQ0FBQ0ssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO1FBQUVDLE9BQU8sRUFBRTtNQUFYLENBQXJCO0lBQ0QsQ0FGRCxNQUVPO01BQ0wsTUFBTUMsT0FBTyxHQUFHLElBQUlDLGlCQUFKLENBQVlWLEdBQUcsQ0FBQ0ksSUFBaEIsQ0FB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","map":{"version":3,"names":["nuevoUsuario","req","res","user","buscarPorEmail","body","email","status","json","Mensaje","usuario","Usuario","save","error","findOne","listaUsuarios","usuarios","find","buscaUsuarioPorID","id","params","findById","actualizaUsuario","findByIdAndUpdate","eliminaUsuario","findByIdAndDelete","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\controllers\\","sources":["usuario.controller.js"],"sourcesContent":["import Usuario from \"../models/usuarios\";\r\n\r\nconst nuevoUsuario = async (req, res) => {\r\n  try {\r\n    const user = await buscarPorEmail(req.body.email)\r\n    if(user !== null) {\r\n      res.status(400).json({ Mensaje: 'Ya existe un usuario con el mail ingresado' })\r\n    } else {\r\n      const usuario = new Usuario(req.body);\r\n      await usuario.save();\r\n      res.status(201).json({ Mensaje: \"Usuario agregado con exito\" });\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error });\r\n  }\r\n};\r\n\r\nconst buscarPorEmail = async(email) => {\r\n  const user = await Usuario.findOne({email})\r\n  return user\r\n}\r\n\r\nconst listaUsuarios =async(req, res) => {\r\n  try {\r\n    const usuarios = await Usuario.find()\r\n    res.status(200).json(usuarios)\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n}\r\n\r\nconst buscaUsuarioPorID = async(req, res) => {\r\n  try {\r\n    const id = req.params.id\r\n    const usuario = await Usuario.findById(id)\r\n    res.status(200).json(usuario)\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n}\r\n\r\nconst actualizaUsuario = async(req, res) => {\r\n  try {\r\n    const id = req.params.id\r\n    const body = req.body\r\n    await Usuario.findByIdAndUpdate(id, body)\r\n    res.status(200).json({ Mensaje: 'Usuario actualizado con exito' })\r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n}\r\n\r\nconst eliminaUsuario = async(req, res) => {\r\n  try {\r\n    const id = req.params.id\r\n    await Usuario.findByIdAndDelete(id)\r\n    res.status(200).json({ Mensaje: 'Usuario eliminado con exito' })\r\n  } catch (error) {\r\n    \r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  nuevoUsuario,\r\n  listaUsuarios,\r\n  buscaUsuarioPorID,\r\n  actualizaUsuario,\r\n  eliminaUsuario,\r\n};\r\n"],"mappings":"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"}},"mtime":1661914010109},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\models\\\\usuarios.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst usuarioSchema = new _mongoose.Schema({\n  nombre: {\n    type: String,\n    trim: true,\n    required: true,\n    minlength: 4,\n    maxlength: 60\n  },\n  apellido: {\n    type: String,\n    trim: true,\n    required: true,\n    minlength: 3,\n    maxlength: 60\n  },\n  edad: {\n    type: Number,\n    trim: true,\n    required: true,\n    minlength: 1,\n    maxlength: 3\n  },\n  email: {\n    type: String,\n    trim: true,\n    required: true,\n    unique: true,\n    minlength: 15,\n    maxlength: 40\n  },\n  clave: {\n    type: String,\n    trim: true,\n    required: true,\n    minlength: 8,\n    maxlength: 15\n  }\n}, {\n  timestamps: true\n});\nusuarioSchema.pre('save', function (next) {\n  _bcrypt.default.genSalt(10).then(salts => {\n    _bcrypt.default.hash(this.clave, salts).then(hash => {\n      this.clave = hash;\n      next();\n    }).catch(error => next(error));\n  }).catch(error => next(error));\n});\n\nusuarioSchema.methods.comparePassword = function (clave1, cb) {\n  _bcrypt.default.compare(clave1, this.clave, function (err, isMatch) {\n    if (err) return cb(err);\n    cb(null, isMatch);\n  });\n};\n\nconst Usuario = _mongoose.default.model('Usuario', usuarioSchema);\n\nvar _default = Usuario;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c3VhcmlvU2NoZW1hIiwiU2NoZW1hIiwibm9tYnJlIiwidHlwZSIsIlN0cmluZyIsInRyaW0iLCJyZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsImFwZWxsaWRvIiwiZWRhZCIsIk51bWJlciIsImVtYWlsIiwidW5pcXVlIiwiY2xhdmUiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsImJjcnlwdCIsImdlblNhbHQiLCJ0aGVuIiwic2FsdHMiLCJoYXNoIiwiY2F0Y2giLCJlcnJvciIsIm1ldGhvZHMiLCJjb21wYXJlUGFzc3dvcmQiLCJjbGF2ZTEiLCJjYiIsImNvbXBhcmUiLCJlcnIiLCJpc01hdGNoIiwiVXN1YXJpbyIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxPbmVEcml2ZVxcRXNjcml0b3Jpb1xcQVR5R0dcXEJFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c3Vhcmlvcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcclxuXHJcbmNvbnN0IHVzdWFyaW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG5vbWJyZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIG1pbmxlbmd0aDogNCxcclxuICAgICAgICBtYXhsZW5ndGg6IDYwLFxyXG4gICAgICB9LFxyXG4gICAgICBhcGVsbGlkbzoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIG1pbmxlbmd0aDogMyxcclxuICAgICAgICBtYXhsZW5ndGg6IDYwLFxyXG4gICAgICB9LFxyXG4gICAgICBlZGFkOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOiAxLFxyXG4gICAgICAgIG1heGxlbmd0aDogMyxcclxuICAgICAgfSxcclxuICAgICAgZW1haWw6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdHJpbTogdHJ1ZSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOjE1LFxyXG4gICAgICAgIG1heGxlbmd0aDogNDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNsYXZlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOiA4LFxyXG4gICAgICAgIG1heGxlbmd0aDogMTUsXHJcbiAgICAgIH1cclxufSwge3RpbWVzdGFtcHM6IHRydWV9IClcclxuXHJcbnVzdWFyaW9TY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIGJjcnlwdFxyXG4gICAgICAuZ2VuU2FsdCgxMClcclxuICAgICAgLnRoZW4oKHNhbHRzKSA9PiB7XHJcbiAgICAgICAgYmNyeXB0XHJcbiAgICAgICAgICAuaGFzaCh0aGlzLmNsYXZlLCBzYWx0cylcclxuICAgICAgICAgIC50aGVuKChoYXNoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhdmUgPSBoYXNoO1xyXG4gICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gbmV4dChlcnJvcikpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBuZXh0KGVycm9yKSk7XHJcbiAgfSk7XHJcblxyXG51c3VhcmlvU2NoZW1hLm1ldGhvZHMuY29tcGFyZVBhc3N3b3JkID0gZnVuY3Rpb24gKGNsYXZlMSwgY2IpIHtcclxuICAgIGJjcnlwdC5jb21wYXJlKGNsYXZlMSwgdGhpcy5jbGF2ZSwgZnVuY3Rpb24gKGVyciwgaXNNYXRjaCkge1xyXG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcclxuICAgICAgY2IobnVsbCwgaXNNYXRjaCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIFxyXG5jb25zdCBVc3VhcmlvID0gbW9uZ29vc2UubW9kZWwoJ1VzdWFyaW8nLCB1c3VhcmlvU2NoZW1hKVxyXG5leHBvcnQgZGVmYXVsdCBVc3VhcmlvOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzdCQyxNQUFNLEVBQUU7SUFDSkMsSUFBSSxFQUFFQyxNQURGO0lBRUpDLElBQUksRUFBRSxJQUZGO0lBR0pDLFFBQVEsRUFBRSxJQUhOO0lBSUpDLFNBQVMsRUFBRSxDQUpQO0lBS0pDLFNBQVMsRUFBRTtFQUxQLENBRHFCO0VBUTNCQyxRQUFRLEVBQUU7SUFDUk4sSUFBSSxFQUFFQyxNQURFO0lBRVJDLElBQUksRUFBRSxJQUZFO0lBR1JDLFFBQVEsRUFBRSxJQUhGO0lBSVJDLFNBQVMsRUFBRSxDQUpIO0lBS1JDLFNBQVMsRUFBRTtFQUxILENBUmlCO0VBZTNCRSxJQUFJLEVBQUU7SUFDSlAsSUFBSSxFQUFFUSxNQURGO0lBRUpOLElBQUksRUFBRSxJQUZGO0lBR0pDLFFBQVEsRUFBRSxJQUhOO0lBSUpDLFNBQVMsRUFBRSxDQUpQO0lBS0pDLFNBQVMsRUFBRTtFQUxQLENBZnFCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0xULElBQUksRUFBRUMsTUFERDtJQUVMQyxJQUFJLEVBQUUsSUFGRDtJQUdMQyxRQUFRLEVBQUUsSUFITDtJQUlMTyxNQUFNLEVBQUUsSUFKSDtJQUtMTixTQUFTLEVBQUMsRUFMTDtJQU1MQyxTQUFTLEVBQUU7RUFOTixDQXRCb0I7RUE4QjNCTSxLQUFLLEVBQUU7SUFDTFgsSUFBSSxFQUFFQyxNQUREO0lBRUxDLElBQUksRUFBRSxJQUZEO0lBR0xDLFFBQVEsRUFBRSxJQUhMO0lBSUxDLFNBQVMsRUFBRSxDQUpOO0lBS0xDLFNBQVMsRUFBRTtFQUxOO0FBOUJvQixDQUFYLEVBcUNuQjtFQUFDTyxVQUFVLEVBQUU7QUFBYixDQXJDbUIsQ0FBdEI7QUF1Q0FmLGFBQWEsQ0FBQ2dCLEdBQWQsQ0FBa0IsTUFBbEIsRUFBMEIsVUFBVUMsSUFBVixFQUFnQjtFQUN0Q0MsZUFBQSxDQUNHQyxPQURILENBQ1csRUFEWCxFQUVHQyxJQUZILENBRVNDLEtBQUQsSUFBVztJQUNmSCxlQUFBLENBQ0dJLElBREgsQ0FDUSxLQUFLUixLQURiLEVBQ29CTyxLQURwQixFQUVHRCxJQUZILENBRVNFLElBQUQsSUFBVTtNQUNkLEtBQUtSLEtBQUwsR0FBYVEsSUFBYjtNQUNBTCxJQUFJO0lBQ0wsQ0FMSCxFQU1HTSxLQU5ILENBTVVDLEtBQUQsSUFBV1AsSUFBSSxDQUFDTyxLQUFELENBTnhCO0VBT0QsQ0FWSCxFQVdHRCxLQVhILENBV1VDLEtBQUQsSUFBV1AsSUFBSSxDQUFDTyxLQUFELENBWHhCO0FBWUQsQ0FiSDs7QUFlQXhCLGFBQWEsQ0FBQ3lCLE9BQWQsQ0FBc0JDLGVBQXRCLEdBQXdDLFVBQVVDLE1BQVYsRUFBa0JDLEVBQWxCLEVBQXNCO0VBQzFEVixlQUFBLENBQU9XLE9BQVAsQ0FBZUYsTUFBZixFQUF1QixLQUFLYixLQUE1QixFQUFtQyxVQUFVZ0IsR0FBVixFQUFlQyxPQUFmLEVBQXdCO0lBQ3pELElBQUlELEdBQUosRUFBUyxPQUFPRixFQUFFLENBQUNFLEdBQUQsQ0FBVDtJQUNURixFQUFFLENBQUMsSUFBRCxFQUFPRyxPQUFQLENBQUY7RUFDRCxDQUhEO0FBSUQsQ0FMSDs7QUFPQSxNQUFNQyxPQUFPLEdBQUdDLGlCQUFBLENBQVNDLEtBQVQsQ0FBZSxTQUFmLEVBQTBCbEMsYUFBMUIsQ0FBaEI7O2VBQ2VnQyxPIn0=","map":{"version":3,"names":["usuarioSchema","Schema","nombre","type","String","trim","required","minlength","maxlength","apellido","edad","Number","email","unique","clave","timestamps","pre","next","bcrypt","genSalt","then","salts","hash","catch","error","methods","comparePassword","clave1","cb","compare","err","isMatch","Usuario","mongoose","model"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\models\\","sources":["usuarios.js"],"sourcesContent":["import mongoose, {Schema} from 'mongoose'\r\nimport bcrypt from 'bcrypt'\r\n\r\nconst usuarioSchema = new Schema({\r\n    nombre: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 4,\r\n        maxlength: 60,\r\n      },\r\n      apellido: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 3,\r\n        maxlength: 60,\r\n      },\r\n      edad: {\r\n        type: Number,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 1,\r\n        maxlength: 3,\r\n      },\r\n      email: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        unique: true,\r\n        minlength:15,\r\n        maxlength: 40,\r\n      },\r\n      clave: {\r\n        type: String,\r\n        trim: true,\r\n        required: true,\r\n        minlength: 8,\r\n        maxlength: 15,\r\n      }\r\n}, {timestamps: true} )\r\n\r\nusuarioSchema.pre('save', function (next) {\r\n    bcrypt\r\n      .genSalt(10)\r\n      .then((salts) => {\r\n        bcrypt\r\n          .hash(this.clave, salts)\r\n          .then((hash) => {\r\n            this.clave = hash;\r\n            next();\r\n          })\r\n          .catch((error) => next(error));\r\n      })\r\n      .catch((error) => next(error));\r\n  });\r\n\r\nusuarioSchema.methods.comparePassword = function (clave1, cb) {\r\n    bcrypt.compare(clave1, this.clave, function (err, isMatch) {\r\n      if (err) return cb(err);\r\n      cb(null, isMatch);\r\n    });\r\n  };\r\n  \r\nconst Usuario = mongoose.model('Usuario', usuarioSchema)\r\nexport default Usuario;"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CAAW;EAC7BC,MAAM,EAAE;IACJC,IAAI,EAAEC,MADF;IAEJC,IAAI,EAAE,IAFF;IAGJC,QAAQ,EAAE,IAHN;IAIJC,SAAS,EAAE,CAJP;IAKJC,SAAS,EAAE;EALP,CADqB;EAQ3BC,QAAQ,EAAE;IACRN,IAAI,EAAEC,MADE;IAERC,IAAI,EAAE,IAFE;IAGRC,QAAQ,EAAE,IAHF;IAIRC,SAAS,EAAE,CAJH;IAKRC,SAAS,EAAE;EALH,CARiB;EAe3BE,IAAI,EAAE;IACJP,IAAI,EAAEQ,MADF;IAEJN,IAAI,EAAE,IAFF;IAGJC,QAAQ,EAAE,IAHN;IAIJC,SAAS,EAAE,CAJP;IAKJC,SAAS,EAAE;EALP,CAfqB;EAsB3BI,KAAK,EAAE;IACLT,IAAI,EAAEC,MADD;IAELC,IAAI,EAAE,IAFD;IAGLC,QAAQ,EAAE,IAHL;IAILO,MAAM,EAAE,IAJH;IAKLN,SAAS,EAAC,EALL;IAMLC,SAAS,EAAE;EANN,CAtBoB;EA8B3BM,KAAK,EAAE;IACLX,IAAI,EAAEC,MADD;IAELC,IAAI,EAAE,IAFD;IAGLC,QAAQ,EAAE,IAHL;IAILC,SAAS,EAAE,CAJN;IAKLC,SAAS,EAAE;EALN;AA9BoB,CAAX,EAqCnB;EAACO,UAAU,EAAE;AAAb,CArCmB,CAAtB;AAuCAf,aAAa,CAACgB,GAAd,CAAkB,MAAlB,EAA0B,UAAUC,IAAV,EAAgB;EACtCC,eAAA,CACGC,OADH,CACW,EADX,EAEGC,IAFH,CAESC,KAAD,IAAW;IACfH,eAAA,CACGI,IADH,CACQ,KAAKR,KADb,EACoBO,KADpB,EAEGD,IAFH,CAESE,IAAD,IAAU;MACd,KAAKR,KAAL,GAAaQ,IAAb;MACAL,IAAI;IACL,CALH,EAMGM,KANH,CAMUC,KAAD,IAAWP,IAAI,CAACO,KAAD,CANxB;EAOD,CAVH,EAWGD,KAXH,CAWUC,KAAD,IAAWP,IAAI,CAACO,KAAD,CAXxB;AAYD,CAbH;;AAeAxB,aAAa,CAACyB,OAAd,CAAsBC,eAAtB,GAAwC,UAAUC,MAAV,EAAkBC,EAAlB,EAAsB;EAC1DV,eAAA,CAAOW,OAAP,CAAeF,MAAf,EAAuB,KAAKb,KAA5B,EAAmC,UAAUgB,GAAV,EAAeC,OAAf,EAAwB;IACzD,IAAID,GAAJ,EAAS,OAAOF,EAAE,CAACE,GAAD,CAAT;IACTF,EAAE,CAAC,IAAD,EAAOG,OAAP,CAAF;EACD,CAHD;AAID,CALH;;AAOA,MAAMC,OAAO,GAAGC,iBAAA,CAASC,KAAT,CAAe,SAAf,EAA0BlC,aAA1B,CAAhB;;eACegC,O"}},"mtime":1661904666165},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\routes\\\\login.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _login = require(\"../controllers/login.controller\");\n\nconst router = (0, _express.Router)();\nrouter.post('/', _login.login);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibG9naW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEFsZWphbmRyb1xcT25lRHJpdmVcXEVzY3JpdG9yaW9cXEFUeUdHXFxCRVxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsibG9naW4ucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2xvZ2luLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnBvc3QoJy8nLCBsb2dpbilcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUVBRCxNQUFNLENBQUNFLElBQVAsQ0FBWSxHQUFaLEVBQWlCQyxZQUFqQjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJMLE1BQWpCIn0=","map":{"version":3,"names":["router","Router","post","login","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\routes\\","sources":["login.route.js"],"sourcesContent":["import {Router} from 'express';\r\nimport { login } from '../controllers/login.controller'\r\n\r\nconst router = Router()\r\n\r\nrouter.post('/', login)\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,GAAZ,EAAiBC,YAAjB;AAEAC,MAAM,CAACC,OAAP,GAAiBL,MAAjB"}},"mtime":1661825248747},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"filename\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\\\\src\\\\controllers\\\\login.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Alejandro\\\\OneDrive\\\\Escritorio\\\\ATyGG\\\\BE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _usuarios = _interopRequireDefault(require(\"../models/usuarios\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst login = async (req, res, next) => {\n  try {\n    const {\n      email,\n      clave\n    } = req.body;\n    const validaUsuario = await _usuarios.default.findOne({\n      email\n    });\n\n    if (!validaUsuario) {\n      return res.status(400).json({\n        Mensaje: \"El usuario no se encuentra registrado\"\n      });\n    }\n\n    const validaClave = await _bcrypt.default.compare(clave, validaUsuario.clave);\n\n    if (!validaClave) {\n      res.status(400).json({\n        Mensaje: \"La clave ingresada es incorrecta\"\n      });\n      return;\n    }\n\n    const generaToken = encrypt(validaUsuario.id);\n    const {\n      nombre,\n      apellido\n    } = validaUsuario;\n    res.status(201).json({\n      generaToken,\n      usuario: {\n        nombre,\n        apellido,\n        email\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      Mensaje: error\n    });\n  }\n};\n\nconst encrypt = id => _jsonwebtoken.default.sign({\n  id\n}, process.env.JWT_SECRET, {\n  expiresIn: process.env.AUTH_TTL\n});\n\nmodule.exports = {\n  login\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dpbiIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsImNsYXZlIiwiYm9keSIsInZhbGlkYVVzdWFyaW8iLCJVc3VhcmlvIiwiZmluZE9uZSIsInN0YXR1cyIsImpzb24iLCJNZW5zYWplIiwidmFsaWRhQ2xhdmUiLCJiY3J5cHQiLCJjb21wYXJlIiwiZ2VuZXJhVG9rZW4iLCJlbmNyeXB0IiwiaWQiLCJub21icmUiLCJhcGVsbGlkbyIsInVzdWFyaW8iLCJlcnJvciIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIkFVVEhfVFRMIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxBVHlHR1xcQkVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsibG9naW4uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXN1YXJpbyBmcm9tIFwiLi4vbW9kZWxzL3VzdWFyaW9zXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcbmNvbnN0IGxvZ2luID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwsIGNsYXZlIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHZhbGlkYVVzdWFyaW8gPSBhd2FpdCBVc3VhcmlvLmZpbmRPbmUoeyBlbWFpbCB9KTtcclxuICAgIGlmICghdmFsaWRhVXN1YXJpbykge1xyXG4gICAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAuanNvbih7IE1lbnNhamU6IFwiRWwgdXN1YXJpbyBubyBzZSBlbmN1ZW50cmEgcmVnaXN0cmFkb1wiIH0pO1xyXG4gICAgICBcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbGlkYUNsYXZlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoY2xhdmUsIHZhbGlkYVVzdWFyaW8uY2xhdmUpO1xyXG4gICAgaWYgKCF2YWxpZGFDbGF2ZSkge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IE1lbnNhamU6IFwiTGEgY2xhdmUgaW5ncmVzYWRhIGVzIGluY29ycmVjdGFcIiB9KTtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBnZW5lcmFUb2tlbiA9IGVuY3J5cHQodmFsaWRhVXN1YXJpby5pZCk7XHJcbiAgICBjb25zdCB7IG5vbWJyZSwgYXBlbGxpZG8gfSA9IHZhbGlkYVVzdWFyaW87XHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IFxyXG4gICAgICBnZW5lcmFUb2tlbixcclxuICAgICAgdXN1YXJpbzoge25vbWJyZSwgYXBlbGxpZG8sIGVtYWlsIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IE1lbnNhamU6IGVycm9yIH0pXHJcbiAgfVxyXG5cclxufTtcclxuXHJcbmNvbnN0IGVuY3J5cHQgPSAoaWQpID0+XHJcbiAgand0LnNpZ24oeyBpZCB9LCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogcHJvY2Vzcy5lbnYuQVVUSF9UVEwgfSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBsb2dpbixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsS0FBSyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDdEMsSUFBSTtJQUNGLE1BQU07TUFBRUMsS0FBRjtNQUFTQztJQUFULElBQW1CSixHQUFHLENBQUNLLElBQTdCO0lBQ0EsTUFBTUMsYUFBYSxHQUFHLE1BQU1DLGlCQUFBLENBQVFDLE9BQVIsQ0FBZ0I7TUFBRUw7SUFBRixDQUFoQixDQUE1Qjs7SUFDQSxJQUFJLENBQUNHLGFBQUwsRUFBb0I7TUFDbEIsT0FBT0wsR0FBRyxDQUNUUSxNQURNLENBQ0MsR0FERCxFQUVOQyxJQUZNLENBRUQ7UUFBRUMsT0FBTyxFQUFFO01BQVgsQ0FGQyxDQUFQO0lBSUQ7O0lBQ0QsTUFBTUMsV0FBVyxHQUFHLE1BQU1DLGVBQUEsQ0FBT0MsT0FBUCxDQUFlVixLQUFmLEVBQXNCRSxhQUFhLENBQUNGLEtBQXBDLENBQTFCOztJQUNBLElBQUksQ0FBQ1EsV0FBTCxFQUFrQjtNQUNoQlgsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7UUFBRUMsT0FBTyxFQUFFO01BQVgsQ0FBckI7TUFDQTtJQUNEOztJQUNELE1BQU1JLFdBQVcsR0FBR0MsT0FBTyxDQUFDVixhQUFhLENBQUNXLEVBQWYsQ0FBM0I7SUFDQSxNQUFNO01BQUVDLE1BQUY7TUFBVUM7SUFBVixJQUF1QmIsYUFBN0I7SUFDQUwsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7TUFDbkJLLFdBRG1CO01BRW5CSyxPQUFPLEVBQUU7UUFBQ0YsTUFBRDtRQUFTQyxRQUFUO1FBQW1CaEI7TUFBbkI7SUFGVSxDQUFyQjtFQU1ELENBdEJELENBc0JFLE9BQU9rQixLQUFQLEVBQWM7SUFDZHBCLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO01BQUVDLE9BQU8sRUFBRVU7SUFBWCxDQUFyQjtFQUNEO0FBRUYsQ0EzQkQ7O0FBNkJBLE1BQU1MLE9BQU8sR0FBSUMsRUFBRCxJQUNkSyxxQkFBQSxDQUFJQyxJQUFKLENBQVM7RUFBRU47QUFBRixDQUFULEVBQWlCTyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBN0IsRUFBeUM7RUFBRUMsU0FBUyxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUc7QUFBekIsQ0FBekMsQ0FERjs7QUFHQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2YvQjtBQURlLENBQWpCIn0=","map":{"version":3,"names":["login","req","res","next","email","clave","body","validaUsuario","Usuario","findOne","status","json","Mensaje","validaClave","bcrypt","compare","generaToken","encrypt","id","nombre","apellido","usuario","error","jwt","sign","process","env","JWT_SECRET","expiresIn","AUTH_TTL","module","exports"],"sourceRoot":"C:\\Users\\Alejandro\\OneDrive\\Escritorio\\ATyGG\\BE\\src\\controllers\\","sources":["login.controller.js"],"sourcesContent":["import Usuario from \"../models/usuarios\";\r\nimport bcrypt from 'bcrypt'\r\nimport jwt from 'jsonwebtoken'\r\n\r\nconst login = async (req, res, next) => {\r\n  try {\r\n    const { email, clave } = req.body;\r\n    const validaUsuario = await Usuario.findOne({ email });\r\n    if (!validaUsuario) {\r\n      return res\r\n      .status(400)\r\n      .json({ Mensaje: \"El usuario no se encuentra registrado\" });\r\n      \r\n    }\r\n    const validaClave = await bcrypt.compare(clave, validaUsuario.clave);\r\n    if (!validaClave) {\r\n      res.status(400).json({ Mensaje: \"La clave ingresada es incorrecta\" });\r\n      return\r\n    }\r\n    const generaToken = encrypt(validaUsuario.id);\r\n    const { nombre, apellido } = validaUsuario;\r\n    res.status(201).json({ \r\n      generaToken,\r\n      usuario: {nombre, apellido, email }\r\n    })\r\n    \r\n    \r\n  } catch (error) {\r\n    res.status(500).json({ Mensaje: error })\r\n  }\r\n\r\n};\r\n\r\nconst encrypt = (id) =>\r\n  jwt.sign({ id }, process.env.JWT_SECRET, { expiresIn: process.env.AUTH_TTL });\r\n\r\nmodule.exports = {\r\n  login,\r\n};\r\n"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,KAAK,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACtC,IAAI;IACF,MAAM;MAAEC,KAAF;MAASC;IAAT,IAAmBJ,GAAG,CAACK,IAA7B;IACA,MAAMC,aAAa,GAAG,MAAMC,iBAAA,CAAQC,OAAR,CAAgB;MAAEL;IAAF,CAAhB,CAA5B;;IACA,IAAI,CAACG,aAAL,EAAoB;MAClB,OAAOL,GAAG,CACTQ,MADM,CACC,GADD,EAENC,IAFM,CAED;QAAEC,OAAO,EAAE;MAAX,CAFC,CAAP;IAID;;IACD,MAAMC,WAAW,GAAG,MAAMC,eAAA,CAAOC,OAAP,CAAeV,KAAf,EAAsBE,aAAa,CAACF,KAApC,CAA1B;;IACA,IAAI,CAACQ,WAAL,EAAkB;MAChBX,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;QAAEC,OAAO,EAAE;MAAX,CAArB;MACA;IACD;;IACD,MAAMI,WAAW,GAAGC,OAAO,CAACV,aAAa,CAACW,EAAf,CAA3B;IACA,MAAM;MAAEC,MAAF;MAAUC;IAAV,IAAuBb,aAA7B;IACAL,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MACnBK,WADmB;MAEnBK,OAAO,EAAE;QAACF,MAAD;QAASC,QAAT;QAAmBhB;MAAnB;IAFU,CAArB;EAMD,CAtBD,CAsBE,OAAOkB,KAAP,EAAc;IACdpB,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAAEC,OAAO,EAAEU;IAAX,CAArB;EACD;AAEF,CA3BD;;AA6BA,MAAML,OAAO,GAAIC,EAAD,IACdK,qBAAA,CAAIC,IAAJ,CAAS;EAAEN;AAAF,CAAT,EAAiBO,OAAO,CAACC,GAAR,CAAYC,UAA7B,EAAyC;EAAEC,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAAzB,CAAzC,CADF;;AAGAC,MAAM,CAACC,OAAP,GAAiB;EACf/B;AADe,CAAjB"}},"mtime":1661917876518}}